<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Datos de pago</title>
  <!-- BOOTSTRAP -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css">   
  <!-- OTROS LINKS -->
  <!-- FUENTES -->
  <link href="https://fonts.googleapis.com/css2?family=Raleway:wght@400;500&display=swap" rel="stylesheet"> 
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Anton&family=Bree+Serif&family=Cinzel:wght@400..900&family=Lato:ital,wght@0,100;0,300;0,400;0,700;0,900;1,100;1,300;1,400;1,700;1,900&family=Lexend+Deca:wght@100..900&family=Lora:ital,wght@0,400..700;1,400..700&family=Orbitron:wght@400..900&family=Poppins:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&family=Roboto+Flex:ital,wght@0,100..900;1,100..900&display=swap" rel="stylesheet">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Anton&family=Bree+Serif&family=Cinzel:wght@400..900&family=Lato:ital,wght@0,100;0,300;0,400;0,700;0,900;1,100;1,300;1,400;1,700;1,900&family=Lexend+Deca:wght@100..900&family=Lora:ital,wght@0,400..700;1,400..700&family=Orbitron:wght@400..900&family=Poppins:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&family=Raleway:ital,wght@0,100..900;1,100..900&family=Roboto:ital,wght@0,100..900;1,100..900&display=swap" rel="stylesheet">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Anton&family=Bree+Serif&family=Cinzel:wght@400..900&family=Inter:ital,opsz,wght@0,14..32,100..900;1,14..32,100..900&family=Lato:ital,wght@0,100;0,300;0,400;0,700;0,900;1,100;1,300;1,400;1,700;1,900&family=Lexend+Deca:wght@100..900&family=Lora:ital,wght@0,400..700;1,400..700&family=Orbitron:wght@400..900&family=Poppins:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&family=Raleway:ital,wght@0,100..900;1,100..900&family=Roboto:ital,wght@0,100..900;1,100..900&display=swap" rel="stylesheet">
  <!-- CSS -->
  <link rel="stylesheet" href="css/style.css">
</head>
<body>
  <header class="film-strip d-flex justify-content-between align-items-center px-3 py-2 position-relative">
    <!-- LOGO -->
    <div class="logo">
      <a href="index.html">
        <img src="img/FRAME.logo.svg" alt="Inicio" class="icono-inicio">
      </a>
    </div>

      <!-- MENÚ HORIZONTAL VISIBLE EN PANTALLAS GRANDES -->
      <ul class="menu-desktop d-none d-lg-flex gap-4 m-0 p-0 list-unstyled">
        <li><a href="peliculas.html" class="nav-link text-uppercase text-white">Películas</a></li>
        <li><a href="contacto.html" class="nav-link text-uppercase text-white">Contacto</a></li>
        <li><a href="compra.html" class="nav-link text-uppercase text-white">Tienda</a></li>
      </ul>

    <!-- CENTRO: icono menú -->
    <div class="position-absolute top-50 start-50 translate-middle">
      <div class="icono-menu d-md-none" onclick="toggleMenu()">
        <img src="img/film__icon.svg" alt="Menú" class="icono-cinta">
      </div>
    </div>

    <!-- DERECHA: lupa -->
    <div class="icono-buscar">
      <i class="bi bi-search"></i>
    </div>
  </header>


    <!-- MENÚ DESPEGABLE -->

  <!-- MENÚ DESPLEGABLE -->
  <nav id="menuDesplegable" class="menu-desplegable d-lg-none">
    <ul class="list-unstyled text-center m-0 p-0">
      <li><a href="index.html">INICIO</a></li>
      <li><a href="peliculas.html">PELÍCULAS</a></li>
      <li><a href="contacto.html">CONTACTO</a></li>
      <li><a href="compra.html">TIENDA</a></li>
    </ul>
  </nav>

      <!-- Contenido centrado -->
    <div class="page-wrapper">
      <main class="main-content">
        <section class="datos-pago-card">
          <h2 class="titulo-compra mb-4">DATOS DE PAGO</h2>

          <!-- FORMULARIO -->
          <form id="formPago">
            <input type="text" id="nombre" class="form-control mb-3" placeholder="Titular de la tarjeta" />
            <input type="text" id="tarjeta" class="form-control mb-3" placeholder="Número de tarjeta" />
            <input type="text" id="fecha" class="form-control mb-3" placeholder="MM/AA" />
            <input type="text" id="cvv" class="form-control mb-3" placeholder="CVV" />

            <!-- SPINNER -->
            <div id="spinner" class="text-center mb-3 d-none">
              <div class="spinner-border text-light" role="status"></div>
            </div>

            <button type="submit" id="btnPagar" class="btn btn-comprar w-100">PAGAR</button>
          </form>
        </section>
      </main>
    </div>

  <!-- Footer -->
  <footer class="footer-custom text-white py-4 px-3">
    <div class="container-fluid">
      <div class="text-center mb-3">
        <h5 class="footer-title mb-1">FRAME</h5>
        <p class="footer-legal">PRIVACIDAD | TÉRMINOS & CONDICIONES</p>
      </div>
      <div class="row align-items-center text-center text-md-start">
        <div class="col-12 col-md-8 d-flex flex-column mb-3 mb-md-0">
          <p class="mb-1"><a href="mailto:framefestival@contact.com" class="footer-email">framefestival@contact.com</a></p>
          <p class="mb-1 footer-datos">951-967-735</p>
          <p class="mb-0 footer-datos">P.º Reding, 22, 24, Málaga-Este, 29016 Málaga</p>
        </div>
        <div class="col-12 col-md-4 d-flex justify-content-center justify-content-md-end redes-sociales mt-3 mt-md-0">
          <i class="bi bi-twitter"></i>
          <i class="bi bi-instagram"></i>
          <i class="bi bi-tiktok"></i>
        </div>
      </div>
    </div>
  </footer>

  <!-- SCRIPTS -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>

  <script>
    function toggleMenu() {
      const menu = document.getElementById('menuDesplegable');
      menu.classList.toggle('active');
    }
  </script>

   <script>
    document.addEventListener('DOMContentLoaded', () => {
      const form = document.getElementById('formPago');
      const btn = document.getElementById('btnPagar');
      const spinner = document.getElementById('spinner');

      form.addEventListener('submit', (e) => {
        e.preventDefault();

        const nombre = document.getElementById('nombre').value.trim();
        const tarjeta = document.getElementById('tarjeta').value.trim();
        const fecha = document.getElementById('fecha').value.trim();
        const cvv = document.getElementById('cvv').value.trim();

        const soloLetras = /^[A-Za-zÁÉÍÓÚáéíóúñÑ\s]+$/;
        const soloNumeros = /^[0-9]+$/;

        const esValido =
          nombre && soloLetras.test(nombre) &&
          tarjeta && soloNumeros.test(tarjeta) && tarjeta.length >= 13 && tarjeta.length <= 19 &&
          fecha && /^[0-9]{2}\/[0-9]{2}$/.test(fecha) &&
          cvv && soloNumeros.test(cvv) && cvv.length >= 3 && cvv.length <= 4;

        btn.disabled = true;
        spinner.classList.remove('d-none');

        setTimeout(() => {
          if (esValido) {
            window.location.href = "pago_correcto.html";
          } else {
            window.location.href = "errorpago.html";
          }
        }, 1500); // Simula espera de validación
      });
    });
  </script>
</body>
</html>